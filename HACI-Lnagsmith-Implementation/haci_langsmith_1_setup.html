<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HACI on LangSmith - Setup & Prerequisites</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --purple-color: #9b59b6;
            --teal-color: #1abc9c;
            --langchain-green: #00A67E;
            --light-bg: #ecf0f1;
            --white: #ffffff;
            --text-color: #2c3e50;
            --text-light: #7f8c8d;
            --border-color: #bdc3c7;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--white);
        }

        /* Navigation */
        .nav {
            position: sticky;
            top: 0;
            background: var(--primary-color);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav-brand {
            color: var(--white);
            font-size: 1.5rem;
            font-weight: 700;
            text-decoration: none;
        }

        .nav-brand span {
            color: var(--langchain-green);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.3s;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--white);
        }

        .page-indicator {
            background: var(--langchain-green);
            color: var(--white);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary-color) 0%, #1a252f 50%, var(--langchain-green) 100%);
            color: var(--white);
            padding: 4rem 2rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero .subtitle {
            font-size: 1.3rem;
            opacity: 0.95;
            max-width: 700px;
            margin: 0 auto 2rem;
        }

        .hero-badges {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .hero-badge {
            background: rgba(255,255,255,0.15);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Stats Bar */
        .stats-bar {
            background: var(--primary-color);
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: center;
            gap: 4rem;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
            color: var(--white);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--langchain-green);
        }

        .stat-label {
            font-size: 0.85rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .section {
            margin-bottom: 4rem;
        }

        .section-title {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            position: relative;
            text-align: center;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--langchain-green), var(--secondary-color));
            border-radius: 2px;
        }

        .section-intro {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 2rem;
            color: var(--text-light);
            font-size: 1.1rem;
        }

        /* Cards */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .card {
            background: var(--white);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid var(--border-color);
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }

        .card-header {
            padding: 1.2rem 1.5rem;
            color: var(--white);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .card-header.green {
            background: linear-gradient(135deg, var(--langchain-green), #00875A);
        }

        .card-header.blue {
            background: linear-gradient(135deg, var(--secondary-color), #2980b9);
        }

        .card-header.purple {
            background: linear-gradient(135deg, var(--purple-color), #8e44ad);
        }

        .card-header.teal {
            background: linear-gradient(135deg, var(--teal-color), #16a085);
        }

        .card-body {
            padding: 1.5rem;
        }

        .card-body p {
            margin-bottom: 1rem;
            color: var(--text-light);
        }

        .card-body ul {
            padding-left: 1.2rem;
        }

        .card-body li {
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        /* Code Block */
        .code-block {
            background: #1e1e1e;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
        }

        .code-block pre {
            margin: 0;
            color: #d4d4d4;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .code-block .keyword { color: #569cd6; }
        .code-block .string { color: #ce9178; }
        .code-block .comment { color: #6a9955; }
        .code-block .function { color: #dcdcaa; }
        .code-block .class { color: #4ec9b0; }
        .code-block .number { color: #b5cea8; }
        .code-block .decorator { color: #d7ba7d; }

        .code-header {
            background: #2d2d2d;
            color: #ccc;
            padding: 0.5rem 1rem;
            border-radius: 10px 10px 0 0;
            font-size: 0.85rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .code-header + .code-block {
            border-radius: 0 0 10px 10px;
            margin-top: 0;
        }

        /* Callout Boxes */
        .callout {
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid;
        }

        .callout.info {
            background: #e8f4fd;
            border-color: var(--secondary-color);
        }

        .callout.success {
            background: #e8f8f5;
            border-color: var(--langchain-green);
        }

        .callout.warning {
            background: #fdf2e9;
            border-color: var(--warning-color);
        }

        .callout-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .callout.info .callout-title { color: var(--secondary-color); }
        .callout.success .callout-title { color: var(--langchain-green); }
        .callout.warning .callout-title { color: var(--warning-color); }

        /* Steps */
        .steps {
            counter-reset: step-counter;
        }

        .step {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: var(--light-bg);
            border-radius: 10px;
        }

        .step-number {
            counter-increment: step-counter;
            width: 50px;
            height: 50px;
            background: var(--langchain-green);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            flex-shrink: 0;
        }

        .step-number::before {
            content: counter(step-counter);
        }

        .step-content h3 {
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .step-content p {
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        /* Architecture Diagram */
        .architecture-diagram {
            background: linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            overflow-x: auto;
        }

        .architecture-diagram pre {
            color: #e0e0e0;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.85rem;
            line-height: 1.4;
            margin: 0;
            white-space: pre;
        }

        .architecture-diagram .layer { color: #4ec9b0; }
        .architecture-diagram .component { color: #ce9178; }
        .architecture-diagram .arrow { color: #569cd6; }

        /* Table */
        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        .info-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--white);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
        }

        .info-table th {
            background: var(--primary-color);
            color: var(--white);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }

        .info-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--light-bg);
        }

        .info-table tr:last-child td {
            border-bottom: none;
        }

        .info-table tr:hover td {
            background: var(--light-bg);
        }

        .badge {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .badge.required {
            background: #fadbd8;
            color: var(--accent-color);
        }

        .badge.optional {
            background: #d5f5e3;
            color: var(--success-color);
        }

        /* Navigation Footer */
        .nav-footer {
            display: flex;
            justify-content: space-between;
            padding: 2rem 0;
            border-top: 1px solid var(--border-color);
            margin-top: 3rem;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            background: var(--light-bg);
            border-radius: 8px;
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 500;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: var(--langchain-green);
            color: var(--white);
        }

        .nav-btn.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        /* Footer */
        .footer {
            background: var(--primary-color);
            color: var(--white);
            padding: 2rem;
            text-align: center;
        }

        .footer-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .footer-stat {
            text-align: center;
        }

        .footer-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--langchain-green);
        }

        .footer-stat-label {
            font-size: 0.8rem;
            opacity: 0.7;
            text-transform: uppercase;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }

            .stats-bar {
                gap: 2rem;
            }

            .cards-grid {
                grid-template-columns: 1fr;
            }

            .step {
                flex-direction: column;
                text-align: center;
            }

            .nav-footer {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <a href="#" class="nav-brand">HACI on <span>LangSmith</span></a>
        <div class="nav-links">
            <a href="#" class="active">Setup</a>
            <a href="haci_langsmith_2_graph.html">Graph Architecture</a>
            <a href="haci_langsmith_3_agents.html">Agents</a>
            <a href="haci_langsmith_4_observability.html">Observability</a>
            <span class="page-indicator">Page 1 of 4</span>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <h1>Building HACI on LangSmith</h1>
        <p class="subtitle">Complete implementation guide for deploying HACI's multi-agent harness architecture using LangGraph and LangSmith</p>
        <div class="hero-badges">
            <span class="hero-badge">ğŸ”— LangGraph 1.0</span>
            <span class="hero-badge">ğŸ“Š LangSmith Tracing</span>
            <span class="hero-badge">ğŸ¤– Multi-Agent</span>
            <span class="hero-badge">ğŸ‘ï¸ Full Observability</span>
        </div>
    </section>

    <!-- Stats Bar -->
    <div class="stats-bar">
        <div class="stat-item">
            <div class="stat-value">4</div>
            <div class="stat-label">Harness Phases</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">10+</div>
            <div class="stat-label">Specialized Agents</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">4</div>
            <div class="stat-label">Execution Modes</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">âˆ</div>
            <div class="stat-label">Trace Visibility</div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Why LangSmith -->
        <section class="section">
            <h2 class="section-title">Why LangSmith for HACI?</h2>
            <p class="section-intro">
                LangGraph provides the stateful, graph-based orchestration HACI needs for multi-agent coordination. LangSmith adds production-grade observability, evaluation, and debugging.
            </p>

            <div class="cards-grid">
                <div class="card">
                    <div class="card-header green">LangGraph Benefits</div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Stateful Workflows:</strong> Built-in persistence for long-running agent operations</li>
                            <li><strong>Graph-Based Control:</strong> Define agent interactions as nodes and edges</li>
                            <li><strong>Human-in-the-Loop:</strong> Native interrupt/resume for approval gates</li>
                            <li><strong>Checkpointing:</strong> Automatic state snapshots for recovery</li>
                            <li><strong>Multi-Agent Patterns:</strong> Supervisor, network, and hierarchical architectures</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header blue">LangSmith Benefits</div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Deep Tracing:</strong> Visualize every step of agent reasoning</li>
                            <li><strong>Token Analytics:</strong> Track costs per agent, per investigation</li>
                            <li><strong>Evaluation Datasets:</strong> Build test suites from production traces</li>
                            <li><strong>Real-Time Monitoring:</strong> Alerts for latency, errors, cost spikes</li>
                            <li><strong>Prompt Management:</strong> Version and A/B test system prompts</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="callout success">
                <div class="callout-title">âœ… Perfect Fit for HACI</div>
                <p>HACI's THINKâ†’ACTâ†’OBSERVEâ†’EVALUATE harness maps naturally to LangGraph nodes. Each phase becomes a node, the harness loop becomes a cycle in the graph, and multi-agent swarms become parallel branches that converge at a coordinator node.</p>
            </div>
        </section>

        <!-- Architecture Overview -->
        <section class="section">
            <h2 class="section-title">Architecture Overview</h2>
            <p class="section-intro">
                HACI on LangSmith consists of three main layers: the LangGraph execution engine, the agent implementations, and the LangSmith observability layer.
            </p>

            <div class="architecture-diagram">
<pre>
<span class="layer">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="layer">â”‚                         LANGSMITH OBSERVABILITY                             â”‚</span>
<span class="layer">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚</span>
<span class="layer">â”‚  â”‚   Tracing   â”‚  â”‚  Datasets   â”‚  â”‚ Evaluators  â”‚  â”‚  Monitoring â”‚        â”‚</span>
<span class="layer">â”‚  â”‚  (All Runs) â”‚  â”‚ (Test Data) â”‚  â”‚ (Accuracy)  â”‚  â”‚  (Alerts)   â”‚        â”‚</span>
<span class="layer">â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚</span>
<span class="layer">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
          <span class="arrow">â”‚                â”‚                â”‚                â”‚</span>
          <span class="arrow">â–¼                â–¼                â–¼                â–¼</span>
<span class="component">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="component">â”‚                         LANGGRAPH EXECUTION ENGINE                          â”‚</span>
<span class="component">â”‚                                                                             â”‚</span>
<span class="component">â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚</span>
<span class="component">â”‚   â”‚                    HACI HARNESS GRAPH                               â”‚   â”‚</span>
<span class="component">â”‚   â”‚                                                                     â”‚   â”‚</span>
<span class="component">â”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚</span>
<span class="component">â”‚   â”‚    â”‚  THINK   â”‚â”€â”€â”€â–¶â”‚   ACT    â”‚â”€â”€â”€â–¶â”‚ OBSERVE  â”‚â”€â”€â”€â–¶â”‚ EVALUATE â”‚    â”‚   â”‚</span>
<span class="component">â”‚   â”‚    â”‚  Node    â”‚    â”‚  Node    â”‚    â”‚  Node    â”‚    â”‚   Node   â”‚    â”‚   â”‚</span>
<span class="component">â”‚   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â”‚   â”‚</span>
<span class="component">â”‚   â”‚         â–²                                               â”‚          â”‚   â”‚</span>
<span class="component">â”‚   â”‚         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚          â”‚   â”‚</span>
<span class="component">â”‚   â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  CONTINUE/LOOP   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚</span>
<span class="component">â”‚   â”‚                        â”‚  (Conditional)   â”‚â”€â”€â”€â”€â”€â”€â–¶ COMPLETE/ESCALATEâ”‚   â”‚</span>
<span class="component">â”‚   â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚   â”‚</span>
<span class="component">â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚</span>
<span class="component">â”‚                                                                             â”‚</span>
<span class="component">â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚</span>
<span class="component">â”‚   â”‚                    MULTI-AGENT SWARM GRAPH                          â”‚   â”‚</span>
<span class="component">â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚</span>
<span class="component">â”‚   â”‚   â”‚  Log   â”‚   â”‚ Code   â”‚   â”‚ Infra  â”‚   â”‚  DB    â”‚   â”‚Securityâ”‚   â”‚   â”‚</span>
<span class="component">â”‚   â”‚   â”‚ Agent  â”‚   â”‚ Agent  â”‚   â”‚ Agent  â”‚   â”‚ Agent  â”‚   â”‚ Agent  â”‚   â”‚   â”‚</span>
<span class="component">â”‚   â”‚   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â”‚   â”‚</span>
<span class="component">â”‚   â”‚       â”‚            â”‚            â”‚            â”‚            â”‚        â”‚   â”‚</span>
<span class="component">â”‚   â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚</span>
<span class="component">â”‚   â”‚                                 â–¼                                   â”‚   â”‚</span>
<span class="component">â”‚   â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚   â”‚</span>
<span class="component">â”‚   â”‚                        â”‚  COORDINATOR  â”‚                            â”‚   â”‚</span>
<span class="component">â”‚   â”‚                        â”‚    (Swarm)    â”‚                            â”‚   â”‚</span>
<span class="component">â”‚   â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚   â”‚</span>
<span class="component">â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚</span>
<span class="component">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
          <span class="arrow">â”‚                â”‚                â”‚                â”‚</span>
          <span class="arrow">â–¼                â–¼                â–¼                â–¼</span>
<span class="layer">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="layer">â”‚                              EXTERNAL SYSTEMS                               â”‚</span>
<span class="layer">â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚</span>
<span class="layer">â”‚   â”‚  Jira   â”‚  â”‚ Datadog â”‚  â”‚ GitHub  â”‚  â”‚  Slack  â”‚  â”‚   AWS   â”‚         â”‚</span>
<span class="layer">â”‚   â”‚  (MCP)  â”‚  â”‚  (MCP)  â”‚  â”‚  (MCP)  â”‚  â”‚  (API)  â”‚  â”‚  (API)  â”‚         â”‚</span>
<span class="layer">â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚</span>
<span class="layer">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</pre>
            </div>
        </section>

        <!-- Prerequisites -->
        <section class="section">
            <h2 class="section-title">Prerequisites</h2>
            <p class="section-intro">
                Before starting the implementation, ensure you have the following accounts, tools, and dependencies ready.
            </p>

            <div class="table-container">
                <table class="info-table">
                    <thead>
                        <tr>
                            <th>Requirement</th>
                            <th>Details</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>LangSmith Account</strong></td>
                            <td>Sign up at <a href="https://smith.langchain.com">smith.langchain.com</a>. Free tier available for development.</td>
                            <td><span class="badge required">Required</span></td>
                        </tr>
                        <tr>
                            <td><strong>Python 3.11+</strong></td>
                            <td>LangGraph requires Python 3.11 or higher for full async support.</td>
                            <td><span class="badge required">Required</span></td>
                        </tr>
                        <tr>
                            <td><strong>LLM API Keys</strong></td>
                            <td>Anthropic (Claude), OpenAI (GPT-4), or other supported providers.</td>
                            <td><span class="badge required">Required</span></td>
                        </tr>
                        <tr>
                            <td><strong>Redis</strong></td>
                            <td>For context bus implementation (can use Docker locally).</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td><strong>PostgreSQL</strong></td>
                            <td>For LangGraph checkpointing and HACI's System of Record.</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td><strong>Docker</strong></td>
                            <td>For local development infrastructure and LangGraph Studio.</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Installation Steps -->
        <section class="section">
            <h2 class="section-title">Installation</h2>
            <p class="section-intro">
                Follow these steps to set up your HACI development environment with LangGraph and LangSmith.
            </p>

            <div class="steps">
                <div class="step">
                    <div class="step-number"></div>
                    <div class="step-content">
                        <h3>Create Project Directory</h3>
                        <p>Set up your project structure following HACI conventions.</p>
                        <div class="code-header">
                            <span>Terminal</span>
                            <span>bash</span>
                        </div>
                        <div class="code-block">
<pre><span class="comment"># Create project structure</span>
mkdir haci-langsmith && cd haci-langsmith

<span class="comment"># Create directory structure</span>
mkdir -p src/{agents,graphs,tools,memory,utils}
mkdir -p tests/{unit,integration,e2e}
mkdir -p config

<span class="comment"># Initialize Python environment</span>
python -m venv venv
source venv/bin/activate  <span class="comment"># On Windows: venv\Scripts\activate</span></pre>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number"></div>
                    <div class="step-content">
                        <h3>Install Dependencies</h3>
                        <p>Install LangGraph, LangSmith, and required packages.</p>
                        <div class="code-header">
                            <span>requirements.txt</span>
                            <span>pip</span>
                        </div>
                        <div class="code-block">
<pre><span class="comment"># Core LangChain ecosystem</span>
langgraph>=0.2.0
langchain>=0.3.0
langchain-anthropic>=0.2.0
langchain-openai>=0.2.0
langsmith>=0.1.0

<span class="comment"># LLM providers</span>
anthropic>=0.34.0
openai>=1.50.0

<span class="comment"># State management</span>
redis>=5.0.0
asyncpg>=0.29.0
sqlalchemy>=2.0.0

<span class="comment"># Utilities</span>
pydantic>=2.0.0
python-dotenv>=1.0.0
structlog>=24.0.0
tenacity>=8.0.0

<span class="comment"># Testing</span>
pytest>=8.0.0
pytest-asyncio>=0.23.0</pre>
                        </div>
                        <div class="code-header">
                            <span>Terminal</span>
                            <span>bash</span>
                        </div>
                        <div class="code-block">
<pre>pip install -r requirements.txt</pre>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number"></div>
                    <div class="step-content">
                        <h3>Configure Environment Variables</h3>
                        <p>Set up your API keys and LangSmith configuration.</p>
                        <div class="code-header">
                            <span>.env</span>
                            <span>environment</span>
                        </div>
                        <div class="code-block">
<pre><span class="comment"># LangSmith Configuration</span>
<span class="keyword">LANGSMITH_TRACING</span>=<span class="string">true</span>
<span class="keyword">LANGSMITH_API_KEY</span>=<span class="string">ls_your_api_key_here</span>
<span class="keyword">LANGSMITH_PROJECT</span>=<span class="string">haci-development</span>
<span class="keyword">LANGSMITH_ENDPOINT</span>=<span class="string">https://api.smith.langchain.com</span>

<span class="comment"># LLM Providers</span>
<span class="keyword">ANTHROPIC_API_KEY</span>=<span class="string">sk-ant-your_key_here</span>
<span class="keyword">OPENAI_API_KEY</span>=<span class="string">sk-your_key_here</span>

<span class="comment"># Infrastructure (Optional - for production)</span>
<span class="keyword">REDIS_URL</span>=<span class="string">redis://localhost:6379/0</span>
<span class="keyword">DATABASE_URL</span>=<span class="string">postgresql://user:pass@localhost:5432/haci</span>

<span class="comment"># HACI Configuration</span>
<span class="keyword">HACI_DEFAULT_MODE</span>=<span class="string">single_agent</span>
<span class="keyword">HACI_CONFIDENCE_THRESHOLD</span>=<span class="string">0.80</span>
<span class="keyword">HACI_MAX_ITERATIONS</span>=<span class="string">10</span></pre>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number"></div>
                    <div class="step-content">
                        <h3>Verify LangSmith Connection</h3>
                        <p>Test that your LangSmith setup is working correctly.</p>
                        <div class="code-header">
                            <span>verify_setup.py</span>
                            <span>python</span>
                        </div>
                        <div class="code-block">
<pre><span class="keyword">import</span> os
<span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv
<span class="keyword">from</span> langsmith <span class="keyword">import</span> Client
<span class="keyword">from</span> langsmith <span class="keyword">import</span> traceable

load_dotenv()

<span class="comment"># Initialize LangSmith client</span>
client = Client()

<span class="decorator">@traceable</span>(name=<span class="string">"haci_setup_verification"</span>)
<span class="keyword">def</span> <span class="function">verify_setup</span>():
    <span class="string">"""Verify LangSmith connection and tracing."""</span>
    <span class="keyword">print</span>(<span class="string">"âœ“ LangSmith client initialized"</span>)
    
    <span class="comment"># Check project exists or create it</span>
    project_name = os.getenv(<span class="string">"LANGSMITH_PROJECT"</span>, <span class="string">"haci-development"</span>)
    <span class="keyword">print</span>(<span class="string">f"âœ“ Project: {project_name}"</span>)
    
    <span class="comment"># Test LLM connection</span>
    <span class="keyword">from</span> langchain_anthropic <span class="keyword">import</span> ChatAnthropic
    
    llm = ChatAnthropic(model=<span class="string">"claude-sonnet-4-20250514"</span>)
    response = llm.invoke(<span class="string">"Say 'HACI setup complete!' in exactly those words."</span>)
    <span class="keyword">print</span>(<span class="string">f"âœ“ LLM Response: {response.content}"</span>)
    
    <span class="keyword">return</span> <span class="string">"Setup verified successfully!"</span>

<span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:
    result = verify_setup()
    <span class="keyword">print</span>(<span class="string">f"\n{result}"</span>)
    <span class="keyword">print</span>(<span class="string">"\nCheck LangSmith UI to see the trace:"</span>)
    <span class="keyword">print</span>(<span class="string">"https://smith.langchain.com"</span>)</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="callout info">
                <div class="callout-title">ğŸ’¡ LangSmith Project Organization</div>
                <p>We recommend creating separate LangSmith projects for different environments:</p>
                <ul style="margin-top: 0.5rem;">
                    <li><code>haci-development</code> â€” Local development and testing</li>
                    <li><code>haci-staging</code> â€” Pre-production evaluation</li>
                    <li><code>haci-production</code> â€” Production traces and monitoring</li>
                </ul>
            </div>
        </section>

        <!-- Project Structure -->
        <section class="section">
            <h2 class="section-title">Project Structure</h2>
            <p class="section-intro">
                Recommended directory structure for your HACI LangSmith implementation.
            </p>

            <div class="code-block">
<pre><span class="string">haci-langsmith/</span>
â”œâ”€â”€ <span class="class">src/</span>
â”‚   â”œâ”€â”€ <span class="class">agents/</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ <span class="function">base_agent.py</span>        <span class="comment"># Abstract agent with harness phases</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">log_agent.py</span>         <span class="comment"># Log Analysis Agent</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">code_agent.py</span>        <span class="comment"># Code Analysis Agent</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">infra_agent.py</span>       <span class="comment"># Infrastructure Agent</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">db_agent.py</span>          <span class="comment"># Database Agent</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">security_agent.py</span>    <span class="comment"># Security Agent</span>
â”‚   â”‚   â””â”€â”€ <span class="function">coordinator.py</span>       <span class="comment"># Swarm Coordinator</span>
â”‚   â”‚
â”‚   â”œâ”€â”€ <span class="class">graphs/</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ <span class="function">harness_graph.py</span>     <span class="comment"># THINKâ†’ACTâ†’OBSERVEâ†’EVALUATE graph</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">swarm_graph.py</span>       <span class="comment"># Multi-agent swarm graph</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">mode_router.py</span>       <span class="comment"># Execution mode selection</span>
â”‚   â”‚   â””â”€â”€ <span class="function">human_gate.py</span>        <span class="comment"># Human approval interrupts</span>
â”‚   â”‚
â”‚   â”œâ”€â”€ <span class="class">tools/</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ <span class="function">log_tools.py</span>         <span class="comment"># Log search, tail, aggregate</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">code_tools.py</span>        <span class="comment"># Git, AST analysis</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">infra_tools.py</span>       <span class="comment"># Kubernetes, cloud APIs</span>
â”‚   â”‚   â””â”€â”€ <span class="function">mcp_tools.py</span>         <span class="comment"># MCP server integrations</span>
â”‚   â”‚
â”‚   â”œâ”€â”€ <span class="class">memory/</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ <span class="function">context_bus.py</span>       <span class="comment"># Redis-based shared context</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">episodic.py</span>          <span class="comment"># Past ticket retrieval</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">semantic.py</span>          <span class="comment"># Domain knowledge RAG</span>
â”‚   â”‚   â””â”€â”€ <span class="function">checkpoints.py</span>       <span class="comment"># LangGraph checkpointer</span>
â”‚   â”‚
â”‚   â”œâ”€â”€ <span class="class">state/</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ <span class="function">harness_state.py</span>     <span class="comment"># Harness phase state schema</span>
â”‚   â”‚   â”œâ”€â”€ <span class="function">swarm_state.py</span>       <span class="comment"># Multi-agent state</span>
â”‚   â”‚   â””â”€â”€ <span class="function">ticket_state.py</span>      <span class="comment"># Ticket/investigation state</span>
â”‚   â”‚
â”‚   â””â”€â”€ <span class="class">utils/</span>
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ <span class="function">confidence.py</span>        <span class="comment"># Confidence calculation</span>
â”‚       â”œâ”€â”€ <span class="function">prompts.py</span>           <span class="comment"># Prompt templates</span>
â”‚       â””â”€â”€ <span class="function">tracing.py</span>           <span class="comment"># Custom LangSmith utilities</span>
â”‚
â”œâ”€â”€ <span class="class">tests/</span>
â”‚   â”œâ”€â”€ <span class="class">unit/</span>
â”‚   â”œâ”€â”€ <span class="class">integration/</span>
â”‚   â””â”€â”€ <span class="class">e2e/</span>
â”‚
â”œâ”€â”€ <span class="class">config/</span>
â”‚   â”œâ”€â”€ <span class="function">agents.yaml</span>           <span class="comment"># Agent configurations</span>
â”‚   â”œâ”€â”€ <span class="function">prompts.yaml</span>          <span class="comment"># System prompts</span>
â”‚   â””â”€â”€ <span class="function">modes.yaml</span>            <span class="comment"># Execution mode settings</span>
â”‚
â”œâ”€â”€ .env
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ pyproject.toml
â””â”€â”€ README.md</pre>
            </div>
        </section>

        <!-- Next Steps -->
        <section class="section">
            <h2 class="section-title">What's Next</h2>
            <p class="section-intro">
                With your environment set up, proceed to implementing the core components.
            </p>

            <div class="cards-grid">
                <div class="card">
                    <div class="card-header green">Page 2: Graph Architecture</div>
                    <div class="card-body">
                        <p>Build the LangGraph state schemas and implement the THINKâ†’ACTâ†’OBSERVEâ†’EVALUATE harness as graph nodes with conditional routing.</p>
                        <ul>
                            <li>Define HarnessState TypedDict</li>
                            <li>Create phase nodes</li>
                            <li>Implement routing logic</li>
                            <li>Add checkpointing</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header purple">Page 3: Agent Implementation</div>
                    <div class="card-body">
                        <p>Implement specialized agents with domain expertise, tool bindings, and the base agent class with harness phase methods.</p>
                        <ul>
                            <li>Base agent class</li>
                            <li>Specialized agents</li>
                            <li>Tool integration</li>
                            <li>Swarm coordination</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header blue">Page 4: Observability & Deployment</div>
                    <div class="card-body">
                        <p>Configure LangSmith tracing, create evaluation datasets, set up monitoring dashboards, and deploy to production.</p>
                        <ul>
                            <li>Custom trace metadata</li>
                            <li>Evaluation datasets</li>
                            <li>Monitoring alerts</li>
                            <li>LangGraph Platform deploy</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Navigation -->
        <div class="nav-footer">
            <a href="#" class="nav-btn disabled">
                â† Previous
            </a>
            <a href="haci_langsmith_2_graph.html" class="nav-btn">
                Next: Graph Architecture â†’
            </a>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-stats">
            <div class="footer-stat">
                <div class="footer-stat-value">LangGraph</div>
                <div class="footer-stat-label">Orchestration</div>
            </div>
            <div class="footer-stat">
                <div class="footer-stat-value">LangSmith</div>
                <div class="footer-stat-label">Observability</div>
            </div>
            <div class="footer-stat">
                <div class="footer-stat-value">HACI</div>
                <div class="footer-stat-label">Architecture</div>
            </div>
        </div>
        <p>HACI Implementation Guide â€¢ LangSmith Edition</p>
        <p style="opacity: 0.7; margin-top: 0.5rem;">Page 1 of 4 â€¢ Setup & Prerequisites</p>
    </footer>
</body>
</html>
